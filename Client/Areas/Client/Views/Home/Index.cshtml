@{
    ViewData["Title"] = "Home";
    Layout = "~/Areas/Client/Views/Shared/_Layout.cshtml";
}

<!-- Add CSS links -->
<link rel="stylesheet" href="~/css/auth.css" />
<link rel="stylesheet" href="~/css/home.css" />

<!-- UI for non-logged in users - Keep current homepage -->
<div id="guest-content">
    <section class="hero-section text-center text-white" style="background: linear-gradient(to right, #6a11cb, #2575fc); padding: 100px 20px;">
        <div class="container">
            <h1 class="display-4 font-weight-bold mb-4">Find Jobs</h1>
        </div>
    </section>

    <section class="features-section py-5">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-3 mb-4">
                    <div class="card h-100 border-0 shadow">
                        <div class="card-body">
                            <h5 class="card-title font-weight-bold">Convenient</h5>
                            <p class="card-text">Convenient, easy-to-use and effective websites in the job search process.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card h-100 border-0 shadow">
                        <div class="card-body">
                            <h5 class="card-title font-weight-bold">Fast</h5>
                            <p class="card-text">Quick processing and job updates, helping candidates not miss opportunities.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card h-100 border-0 shadow">
                        <div class="card-body">
                            <h5 class="card-title font-weight-bold">Reliable</h5>
                            <p class="card-text">System for authenticating reputable and trustworthy employers.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card h-100 border-0 shadow">
                        <div class="card-body">
                            <h5 class="card-title font-weight-bold">Diverse</h5>
                            <p class="card-text">Diverse fields and professions, suitable for all candidates.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<!-- UI Homepage for logged-in candidates -->
<div id="candidate-dashboard" style="display: none;">
    <!-- Banner Section -->
    <section class="banner-section text-white" style="background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); padding: 80px 0;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 font-weight-bold mb-3">Welcome, <span class="candidate-name">Candidate</span>!</h1>
                    <p class="lead mb-4">Discover thousands of job opportunities that match your skills</p>
                    <div class="search-box mb-3">
                        <div class="input-group">
                            <input type="text" class="form-control form-control-lg" placeholder="Job title, position, skills...">
                            <div class="input-group-append">
                                <button class="btn btn-primary btn-lg px-4" type="button">
                                    <i class="fas fa-search mr-2"></i> Search
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="popular-keywords">
                        <span class="text-white-50 mr-2">Popular keywords:</span>
                        <a href="#" class="badge badge-light mr-2 mb-2">Developer</a>
                        <a href="#" class="badge badge-light mr-2 mb-2">Marketing</a>
                        <a href="#" class="badge badge-light mr-2 mb-2">Accounting</a>
                        <a href="#" class="badge badge-light mr-2 mb-2">UI/UX</a>
                    </div>
                </div>
                <div class="col-lg-6 d-none d-lg-block">
                    <img src="https://via.placeholder.com/600x400" alt="Banner Image" class="img-fluid rounded shadow">
                </div>
            </div>
        </div>
    </section>

    <!-- Job Categories Section -->
    <section class="job-categories py-5 bg-light">
        <div class="container">
            <div class="section-header mb-4">
                <h2 class="section-title">Explore By Industry</h2>
                <p class="text-muted">Find job opportunities that match your field</p>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-4 col-6 mb-4">
                    <a href="#" class="category-card d-block text-center py-4 px-3 h-100 rounded bg-white shadow-sm text-decoration-none">
                        <div class="category-icon mb-3 text-primary">
                            <i class="fas fa-laptop-code fa-2x"></i>
                        </div>
                        <h5 class="category-title">IT</h5>
                        <p class="small text-muted mb-0">432 jobs</p>
                    </a>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-4">
                    <a href="#" class="category-card d-block text-center py-4 px-3 h-100 rounded bg-white shadow-sm text-decoration-none">
                        <div class="category-icon mb-3 text-success">
                            <i class="fas fa-chart-line fa-2x"></i>
                        </div>
                        <h5 class="category-title">Marketing</h5>
                        <p class="small text-muted mb-0">287 jobs</p>
                    </a>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-4">
                    <a href="#" class="category-card d-block text-center py-4 px-3 h-100 rounded bg-white shadow-sm text-decoration-none">
                        <div class="category-icon mb-3 text-info">
                            <i class="fas fa-paint-brush fa-2x"></i>
                        </div>
                        <h5 class="category-title">Design</h5>
                        <p class="small text-muted mb-0">156 jobs</p>
                    </a>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-4">
                    <a href="#" class="category-card d-block text-center py-4 px-3 h-100 rounded bg-white shadow-sm text-decoration-none">
                        <div class="category-icon mb-3 text-warning">
                            <i class="fas fa-coins fa-2x"></i>
                        </div>
                        <h5 class="category-title">Finance</h5>
                        <p class="small text-muted mb-0">189 jobs</p>
                    </a>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-4">
                    <a href="#" class="category-card d-block text-center py-4 px-3 h-100 rounded bg-white shadow-sm text-decoration-none">
                        <div class="category-icon mb-3 text-danger">
                            <i class="fas fa-user-tie fa-2x"></i>
                        </div>
                        <h5 class="category-title">Management</h5>
                        <p class="small text-muted mb-0">143 jobs</p>
                    </a>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-4">
                    <a href="#" class="category-card d-block text-center py-4 px-3 h-100 rounded bg-white shadow-sm text-decoration-none">
                        <div class="category-icon mb-3 text-secondary">
                            <i class="fas fa-users-cog fa-2x"></i>
                        </div>
                        <h5 class="category-title">HR</h5>
                        <p class="small text-muted mb-0">109 jobs</p>
                    </a>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-4">
                    <a href="#" class="category-card d-block text-center py-4 px-3 h-100 rounded bg-white shadow-sm text-decoration-none">
                        <div class="category-icon mb-3" style="color: #6c63ff;">
                            <i class="fas fa-language fa-2x"></i>
                        </div>
                        <h5 class="category-title">Languages</h5>
                        <p class="small text-muted mb-0">97 jobs</p>
                    </a>
                </div>
                <div class="col-lg-3 col-md-4 col-6 mb-4">
                    <a href="#" class="category-card d-block text-center py-4 px-3 h-100 rounded bg-white shadow-sm text-decoration-none">
                        <div class="category-icon mb-3" style="color: #6610f2;">
                            <i class="fas fa-ellipsis-h fa-2x"></i>
                        </div>
                        <h5 class="category-title">Others</h5>
                        <p class="small text-muted mb-0">215 jobs</p>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Recommended Jobs Section -->
    <section class="recommended-jobs py-5">
        <div class="container">
            <div class="section-header d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h2 class="section-title">Recommended Jobs For You</h2>
                    <p class="text-muted mb-0">Based on your profile and search activity</p>
                </div>
                <a href="#" class="btn btn-outline-primary">View all</a>
            </div>
            
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="job-card h-100 bg-white rounded shadow-sm p-4 position-relative">
                        <span class="badge badge-success position-absolute" style="top: 15px; right: 15px;">New</span>
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://via.placeholder.com/60" class="company-logo mr-3 rounded" alt="Company Logo">
                            <div>
                                <h5 class="job-title mb-0 font-weight-bold">Frontend Developer</h5>
                                <a href="#" class="company-name text-muted">Tech Solutions</a>
                            </div>
                        </div>
                        <div class="job-details mb-3">
                            <div class="d-flex flex-wrap">
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-map-marker-alt mr-1"></i> Hanoi</span>
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-dollar-sign mr-1"></i> 15-20 million</span>
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-briefcase mr-1"></i> 1-3 years</span>
                            </div>
                        </div>
                        <p class="job-summary mb-3">Develop modern user interfaces using React, Redux and TypeScript for large-scale web applications...</p>
                        <div class="job-actions">
                            <a href="#" class="btn btn-primary btn-sm mr-2">Apply now</a>
                            <a href="#" class="btn btn-outline-secondary btn-sm"><i class="far fa-bookmark"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="job-card h-100 bg-white rounded shadow-sm p-4">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://via.placeholder.com/60" class="company-logo mr-3 rounded" alt="Company Logo">
                            <div>
                                <h5 class="job-title mb-0 font-weight-bold">UX/UI Designer</h5>
                                <a href="#" class="company-name text-muted">Design Studio</a>
                            </div>
                        </div>
                        <div class="job-details mb-3">
                            <div class="d-flex flex-wrap">
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-map-marker-alt mr-1"></i> Ho Chi Minh</span>
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-dollar-sign mr-1"></i> 18-25 million</span>
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-briefcase mr-1"></i> 2-5 years</span>
                            </div>
                        </div>
                        <p class="job-summary mb-3">Design user experiences and interfaces for mobile and web applications. Work with Figma, Sketch...</p>
                        <div class="job-actions">
                            <a href="#" class="btn btn-primary btn-sm mr-2">Apply now</a>
                            <a href="#" class="btn btn-outline-secondary btn-sm"><i class="far fa-bookmark"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="job-card h-100 bg-white rounded shadow-sm p-4">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://via.placeholder.com/60" class="company-logo mr-3 rounded" alt="Company Logo">
                            <div>
                                <h5 class="job-title mb-0 font-weight-bold">Fullstack Developer</h5>
                                <a href="#" class="company-name text-muted">Innovative Solutions</a>
                            </div>
                        </div>
                        <div class="job-details mb-3">
                            <div class="d-flex flex-wrap">
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-map-marker-alt mr-1"></i> Da Nang</span>
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-dollar-sign mr-1"></i> 20-30 million</span>
                                <span class="badge badge-light mr-2 mb-2"><i class="fas fa-briefcase mr-1"></i> 3-5 years</span>
                            </div>
                        </div>
                        <p class="job-summary mb-3">Develop web applications from backend to frontend with Node.js, React, MongoDB and modern technologies...</p>
                        <div class="job-actions">
                            <a href="#" class="btn btn-primary btn-sm mr-2">Apply now</a>
                            <a href="#" class="btn btn-outline-secondary btn-sm"><i class="far fa-bookmark"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Top Companies Section -->
    <section class="top-companies py-5 bg-light">
        <div class="container">
            <div class="section-header text-center mb-5">
                <h2 class="section-title">Top Companies</h2>
                <p class="text-muted">Discover the best recruiting companies</p>
            </div>
            <div class="company-slider">
                <div class="row">
                    <div class="col-lg-3 col-md-4 col-6 mb-4">
                        <div class="company-card bg-white rounded shadow-sm p-4 text-center">
                            <img src="https://via.placeholder.com/120" class="company-logo mb-3" alt="Company Logo">
                            <h5 class="company-name">Tech Solutions</h5>
                            <p class="text-muted small mb-2">Information Technology</p>
                            <span class="badge badge-light">12 jobs</span>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-6 mb-4">
                        <div class="company-card bg-white rounded shadow-sm p-4 text-center">
                            <img src="https://via.placeholder.com/120" class="company-logo mb-3" alt="Company Logo">
                            <h5 class="company-name">Design Studio</h5>
                            <p class="text-muted small mb-2">UI/UX & Design</p>
                            <span class="badge badge-light">8 jobs</span>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-6 mb-4">
                        <div class="company-card bg-white rounded shadow-sm p-4 text-center">
                            <img src="https://via.placeholder.com/120" class="company-logo mb-3" alt="Company Logo">
                            <h5 class="company-name">Financial Group</h5>
                            <p class="text-muted small mb-2">Finance & Banking</p>
                            <span class="badge badge-light">15 jobs</span>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-6 mb-4">
                        <div class="company-card bg-white rounded shadow-sm p-4 text-center">
                            <img src="https://via.placeholder.com/120" class="company-logo mb-3" alt="Company Logo">
                            <h5 class="company-name">Marketing Pro</h5>
                            <p class="text-muted small mb-2">Marketing & Communications</p>
                            <span class="badge badge-light">10 jobs</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Recent Activities Section (Condensed) -->
    <section class="recent-activities py-5">
        <div class="container">
            <div class="section-header mb-4">
                <h2 class="section-title">Recent Activities</h2>
                <p class="text-muted">Overview of your activities</p>
            </div>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="stats-card bg-white rounded shadow-sm p-4 text-center">
                        <div class="icon-circle bg-primary text-white mb-3 mx-auto">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <h2 class="stats-number">2</h2>
                        <p class="text-muted mb-0">CVs Created</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="stats-card bg-white rounded shadow-sm p-4 text-center">
                        <div class="icon-circle bg-success text-white mb-3 mx-auto">
                            <i class="fas fa-paper-plane"></i>
                        </div>
                        <h2 class="stats-number">5</h2>
                        <p class="text-muted mb-0">Jobs Applied</p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="stats-card bg-white rounded shadow-sm p-4 text-center">
                        <div class="icon-circle bg-info text-white mb-3 mx-auto">
                            <i class="fas fa-bookmark"></i>
                        </div>
                        <h2 class="stats-number">12</h2>
                        <p class="text-muted mb-0">Jobs Saved</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

@section Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
}

@section Scripts {
    <script>
        $(document).ready(function() {
            // Check login
            var isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            var userType = localStorage.getItem('userType');
            
            console.log("Home Index: Login status -", isLoggedIn, userType);
            
            if (isLoggedIn && userType === 'candidate') {
                // Switch UI for candidate
                switchToCandidateUI();
            } else {
                // Ensure guest UI is displayed
                switchToGuestUI();
            }
        });
    </script>
}
