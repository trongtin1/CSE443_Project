@{
    ViewData["Title"] = "Manage Jobs";
    Layout = "~/Areas/Client/Views/Shared/_RecruiterLayout.cshtml";
}

<div class="container-fluid">
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Manage Jobs</h1>
        <a href="@Url.Action("CreateJob", "Recruiter", new { area = "Client" })" class="d-none d-sm-inline-block btn btn-primary shadow-sm">
            <i class="fas fa-plus-circle fa-sm text-white-50 mr-1"></i> Post New Job
        </a>
    </div>

    <!-- Filters -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Filters</h6>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="statusFilter">Status</label>
                        <select class="form-control" id="statusFilter">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="draft">Draft</option>
                            <option value="closed">Closed</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="typeFilter">Job Type</label>
                        <select class="form-control" id="typeFilter">
                            <option value="">All Types</option>
                            <option value="full-time">Full-time</option>
                            <option value="part-time">Part-time</option>
                            <option value="contract">Contract</option>
                            <option value="internship">Internship</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="dateFilter">Posted Date</label>
                        <input type="date" class="form-control" id="dateFilter">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="searchFilter">Search</label>
                        <input type="text" class="form-control" id="searchFilter" placeholder="Search jobs...">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <button class="btn btn-primary" id="applyFilters">Apply Filters</button>
                    <button class="btn btn-secondary" id="resetFilters">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Jobs Table -->
    <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex justify-content-between align-items-center">
            <h6 class="m-0 font-weight-bold text-primary">Job Listings</h6>
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="bulkActions" data-bs-toggle="dropdown" aria-expanded="false">
                    Bulk Actions
                </button>
                <ul class="dropdown-menu" aria-labelledby="bulkActions">
                    <li><a class="dropdown-item" href="#">Activate Selected</a></li>
                    <li><a class="dropdown-item" href="#">Deactivate Selected</a></li>
                    <li><a class="dropdown-item" href="#">Delete Selected</a></li>
                </ul>
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="jobsTable" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th width="5%">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="selectAll">
                                    <label class="custom-control-label" for="selectAll"></label>
                                </div>
                            </th>
                            <th>Title</th>
                            <th>Type</th>
                            <th>Posted Date</th>
                            <th>Deadline</th>
                            <th>Applications</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="job1">
                                    <label class="custom-control-label" for="job1"></label>
                                </div>
                            </td>
                            <td><a href="#">Senior Frontend Developer</a></td>
                            <td>Full-time</td>
                            <td>2024-05-15</td>
                            <td>2024-06-15</td>
                            <td>12</td>
                            <td><span class="badge bg-success">Active</span></td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-info" title="View">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-primary" title="Edit">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-danger" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="job2">
                                    <label class="custom-control-label" for="job2"></label>
                                </div>
                            </td>
                            <td><a href="#">UX/UI Designer</a></td>
                            <td>Contract</td>
                            <td>2024-05-10</td>
                            <td>2024-06-10</td>
                            <td>8</td>
                            <td><span class="badge bg-success">Active</span></td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-info" title="View">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-primary" title="Edit">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-danger" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="job3">
                                    <label class="custom-control-label" for="job3"></label>
                                </div>
                            </td>
                            <td><a href="#">Backend Developer</a></td>
                            <td>Full-time</td>
                            <td>2024-05-05</td>
                            <td>2024-06-05</td>
                            <td>5</td>
                            <td><span class="badge bg-warning">Draft</span></td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-info" title="View">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-primary" title="Edit">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-danger" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Initialize DataTable
            $('#jobsTable').DataTable({
                "order": [[3, "desc"]], // Sort by posted date by default
                "pageLength": 10,
                "language": {
                    "search": "Quick Search:"
                }
            });

            // Select all checkbox
            $('#selectAll').change(function() {
                $('tbody input[type="checkbox"]').prop('checked', $(this).prop('checked'));
            });

            // Apply filters
            $('#applyFilters').click(function() {
                // Add your filter logic here
                console.log('Filters applied');
            });

            // Reset filters
            $('#resetFilters').click(function() {
                $('#statusFilter, #typeFilter').val('');
                $('#dateFilter, #searchFilter').val('');
                // Reset table
                $('#jobsTable').DataTable().search('').columns().search('').draw();
            });
        });
    </script>
} 