@{
    ViewData["Title"] = "Applications";
    Layout = "~/Areas/Client/Views/Shared/_RecruiterLayout.cshtml";
}

<div class="container-fluid">
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Applications</h1>
        <div class="btn-group">
            <button type="button" class="btn btn-primary" id="exportExcel">
                <i class="fas fa-file-excel fa-sm text-white-50 mr-1"></i> Export to Excel
            </button>
            <button type="button" class="btn btn-success" id="exportPDF">
                <i class="fas fa-file-pdf fa-sm text-white-50 mr-1"></i> Export to PDF
            </button>
        </div>
    </div>

    <!-- Filters -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Filters</h6>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="jobFilter">Job Position</label>
                        <select class="form-control" id="jobFilter">
                            <option value="">All Positions</option>
                            <option value="1">Senior Frontend Developer</option>
                            <option value="2">UX/UI Designer</option>
                            <option value="3">Backend Developer</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="statusFilter">Application Status</label>
                        <select class="form-control" id="statusFilter">
                            <option value="">All Status</option>
                            <option value="new">New</option>
                            <option value="reviewing">Reviewing</option>
                            <option value="shortlisted">Shortlisted</option>
                            <option value="interviewed">Interviewed</option>
                            <option value="offered">Offered</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="dateFilter">Applied Date</label>
                        <input type="date" class="form-control" id="dateFilter">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="searchFilter">Search</label>
                        <input type="text" class="form-control" id="searchFilter" placeholder="Search applications...">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <button class="btn btn-primary" id="applyFilters">Apply Filters</button>
                    <button class="btn btn-secondary" id="resetFilters">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Applications Table -->
    <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex justify-content-between align-items-center">
            <h6 class="m-0 font-weight-bold text-primary">Application List</h6>
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="bulkActions" data-bs-toggle="dropdown" aria-expanded="false">
                    Bulk Actions
                </button>
                <ul class="dropdown-menu" aria-labelledby="bulkActions">
                    <li><a class="dropdown-item" href="#">Mark as Reviewing</a></li>
                    <li><a class="dropdown-item" href="#">Shortlist Selected</a></li>
                    <li><a class="dropdown-item" href="#">Schedule Interview</a></li>
                    <li><a class="dropdown-item" href="#">Reject Selected</a></li>
                </ul>
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="applicationsTable" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th width="5%">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="selectAll">
                                    <label class="custom-control-label" for="selectAll"></label>
                                </div>
                            </th>
                            <th>Candidate</th>
                            <th>Position</th>
                            <th>Applied Date</th>
                            <th>Status</th>
                            <th>Experience</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="app1">
                                    <label class="custom-control-label" for="app1"></label>
                                </div>
                            </td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="https://via.placeholder.com/40" class="rounded-circle mr-2" alt="Profile">
                                    <div>
                                        <div class="font-weight-bold">John Doe</div>
                                        <div class="small text-muted">john.doe@email.com</div>
                                    </div>
                                </div>
                            </td>
                            <td>Senior Frontend Developer</td>
                            <td>2024-05-15</td>
                            <td><span class="badge bg-primary">New</span></td>
                            <td>5 years</td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-info" title="View Profile">
                                        <i class="fas fa-user"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-primary" title="View CV">
                                        <i class="fas fa-file-alt"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-success" title="Schedule Interview">
                                        <i class="fas fa-calendar-alt"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-danger" title="Reject">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="app2">
                                    <label class="custom-control-label" for="app2"></label>
                                </div>
                            </td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <img src="https://via.placeholder.com/40" class="rounded-circle mr-2" alt="Profile">
                                    <div>
                                        <div class="font-weight-bold">Jane Smith</div>
                                        <div class="small text-muted">jane.smith@email.com</div>
                                    </div>
                                </div>
                            </td>
                            <td>UX/UI Designer</td>
                            <td>2024-05-14</td>
                            <td><span class="badge bg-warning">Reviewing</span></td>
                            <td>3 years</td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-info" title="View Profile">
                                        <i class="fas fa-user"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-primary" title="View CV">
                                        <i class="fas fa-file-alt"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-success" title="Schedule Interview">
                                        <i class="fas fa-calendar-alt"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-danger" title="Reject">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Initialize DataTable
            $('#applicationsTable').DataTable({
                "order": [[3, "desc"]], // Sort by applied date by default
                "pageLength": 10,
                "language": {
                    "search": "Quick Search:"
                }
            });

            // Select all checkbox
            $('#selectAll').change(function() {
                $('tbody input[type="checkbox"]').prop('checked', $(this).prop('checked'));
            });

            // Apply filters
            $('#applyFilters').click(function() {
                // Add your filter logic here
                console.log('Filters applied');
            });

            // Reset filters
            $('#resetFilters').click(function() {
                $('#jobFilter, #statusFilter').val('');
                $('#dateFilter, #searchFilter').val('');
                // Reset table
                $('#applicationsTable').DataTable().search('').columns().search('').draw();
            });

            // Export to Excel
            $('#exportExcel').click(function() {
                // Add export to Excel logic here
                console.log('Exporting to Excel');
            });

            // Export to PDF
            $('#exportPDF').click(function() {
                // Add export to PDF logic here
                console.log('Exporting to PDF');
            });
        });
    </script>
} 